@using Esfa.Recruit.Shared.Web.Configuration
@using Microsoft.Extensions.Options;
@using Esfa.Recruit.Shared.Web.Extensions;

@inject IOptions<ZenDeskConfiguration> ZenDeskConfig

<script nws-csp-add-nonce="true" type="text/javascript">
    window.zESettings = {
        webWidget: {
            contactForm: {
                attachments: false
            },
            chat: {
                menuOptions: {
                    emailTranscript: false
                }
            },
            helpCenter: {
                filter: {
                    section: @ZenDeskConfig.Value.SnippetSectionId
                }
            }
        }
    };
</script>
<script id="ze-snippet" src="https://static.zdassets.com/ekr/snippet.js?key=@ZenDeskConfig.Value.SnippetKey"></script>
<script id="co-snippet" src="https://embed-euw1.rcrsv.io/@ZenDeskConfig.Value.CobrowsingSnippetKey?zwwi=1"></script>
<script nws-csp-add-nonce="true" type="text/javascript">
    @Html.SetZenDeskLabels(new string[] { ViewBag.ZenDeskLabel })
</script>