@using Esfa.Recruit.Vacancies.Client.Domain.Entities
@model Esfa.Recruit.Employer.Web.ViewModels.Dashboard.BlockedProviderAlertViewModel

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <div class="warning-summary">
            <p class="govuk-body">
                @Model.CountCaption
                <span asp-show="@Model.HasMultipleBlockedProviders">
                    Training providers <span class="govuk-!-font-weight-bold">@Model.BlockedProviderNamesCaption</span> are no longer able to manage or recruit apprentices.
                </span>
                <span asp-hide="@Model.HasMultipleBlockedProviders">
                    Training provider <span class="govuk-!-font-weight-bold">@Model.BlockedProviderNamesCaption</span> is no longer able to manage or recruit apprentices.
                </span>
            </p>
            
            <ul class="govuk-body">
                @foreach (var vacancy in Model.ClosedVacancies)
                {
                    <li>@vacancy</li>
                }
            </ul>

            <p class="govuk-body">If you wish to discuss this further you can contact our helpdesk on @RecruitViewConstants.HelpdeskPhoneNumber</p>
            <p class="govuk-body govuk-!-margin-bottom-0">
                <form asp-route="@RouteNames.Dashboard_DismissAlert">
                    <input name="@nameof(AlertDismissalEditModel.AlertType)" value="@AlertType.BlockedProvider" type="hidden" />
                    <button type="submit" class="button-fake-link govuk-link govuk-link--no-visited-state">Dismiss this notification</button>
                </form>
            </p>
        </div>
    </div>
</div>
