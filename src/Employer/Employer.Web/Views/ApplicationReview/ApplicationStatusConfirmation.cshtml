@using System.Net
@model Esfa.Recruit.Shared.Web.ViewModels.ApplicationReview.ApplicationStatusConfirmationViewModel

<div class="govuk-grid-row"> 
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl govuk-!-margin-bottom-0">Are you sure you want to tell this applicant that they have not been accepted?</h1>
        <p class="govuk-body govuk-!-margin-bottom-6">
            This will notify @Model.Name to say that they have not been accepted for this apprenticeship.
        </p>

        <partial name="@PartialNames.ValidationSummary" model='new ValidationSummaryViewModel { ModelState = ViewData.ModelState, OrderedFieldNames = Model.OrderedFieldNames }' />

        <div class="panel panel-border-narrow">
            <p class="govuk-body">
                @Html.Raw(
                                        string.Join("<br>",
                                            new[]
                                            {
                                                    @Model.Name                                                    
                                            }.Where(s => !string.IsNullOrWhiteSpace(s))
                                                .Select(WebUtility.HtmlEncode)))
            </p>            
        </div>

        <h2 class="govuk-heading-l govuk-!-margin-top-6">About you</h2>                        

               

        @*<form asp-show="@Model.CanChangeOutcome" asp-route="@RouteNames.ApplicationReview_Post" class="govuk-!-margin-top-6">
            <div esfa-validation-marker-for="Outcome" class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                        <h3 class="govuk-fieldset__heading">Outcome</h3>
                    </legend>
                    <span esfa-validation-message-for="Outcome" class="govuk-error-message"></span>
                    <div class="govuk-radios govuk-radios--conditional" data-module="radios">
                        <div class="govuk-radios__item">
                            <input asp-for="Outcome" class="govuk-radios__input" id="outcome-successful" type="radio" value="@ApplicationReviewStatus.Successful.ToString()" checked="@(Model.Outcome == ApplicationReviewStatus.Successful ? "checked" : null)">
                            <label for="outcome-successful" class="govuk-label govuk-radios__label">Successful</label>
                        </div>
                        <div class="govuk-radios__item">
                            <input asp-for="Outcome" class="govuk-radios__input" id="outcome-unsuccessful" type="radio" value="@ApplicationReviewStatus.Unsuccessful.ToString()" checked="@(Model.Outcome == ApplicationReviewStatus.Unsuccessful ? "checked" : null)" data-aria-controls="unsuccessful-candidate-feedback">
                            <label for="outcome-unsuccessful" class="govuk-label govuk-radios__label">Unsuccessful</label>
                        </div>
                        <div esfa-validation-marker-for="CandidateFeedback" id="unsuccessful-candidate-feedback" class="govuk-radios__conditional govuk-radios__conditional--hidden">
                            <div class="govuk-form-group">
                                <label asp-for="CandidateFeedback" class="govuk-label govuk-!-font-weight-bold">Feedback</label>
                                <span esfa-validation-message-for="CandidateFeedback" class="govuk-error-message"></span>
                                <span class="govuk-hint">Explain why the application has been unsucessful, your comments will be sent to the candidate.</span>
                                <textarea asp-for="CandidateFeedback" class="govuk-textarea" cols="20" size="12"></textarea>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
                
            <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

            <div class="govuk-form-group hide-print">
                <button type="submit" class="govuk-button">Save</button>

                <a asp-route="@RouteNames.VacancyManage_Get" class="govuk-link das-button-link">Cancel</a>
            </div>
        </form>*@
    </div>
</div>

<script nws-csp-add-nonce="true">
    $(function () {
        var showHideContent = new GOVUK.ShowHideContent();
        showHideContent.init();
    });
</script>